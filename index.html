<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Whatsapp Chatbot</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<script src="https://cdn.tailwindcss.com"></script>
<body>
		<div class="chat">
			<div class="chat-header">
				<div class="profile">
					<div class="left">
						<img src="img/pp.png" class="pp">
						<h2>WhatBot</h2>
						<span>online</span>
					</div>
				</div>
			</div>
			<div class="chat-box">
<div class="chat-l">
  <div class="product-card">
    

    <div class="product-body">
      <p class="title">
        Welcome to <b>WhatBot</b> ğŸ‘‹ <br>
        <span>Select from the options below</span>
      </p>
      <span class="time">4:31 pm</span>
    </div>

<div class="product-actions">
  <button onclick="sendOption(this)" data-text="Product/Service Info">Product/Service Info</button>
  <button onclick="sendOption(this)" data-text="Price">Price</button>
  <button onclick="sendOption(this)" data-text="How it works">How it works</button>
    <button onclick="sendOption(this)" data-text="Talk to Expert">Talk to Expert</button>
      <button onclick="sendOption(this)" data-text="Just Browsing">Just Browsing</button>
</div>

  </div>
</div>

</div>
			<div class="chat-footer">
      <p> Powered by CodeCandyy </p>
			</div>
		</div>
	<script>
const chatBox = document.querySelector(".chat-box");

function sendOption(btn) {
  const text = btn.dataset.text;

  // USER MESSAGE (right side)
  const userMsg = `
    <div class="chat-r">
      <div class="sp"></div>
      <div class="mess mess-r">
        <p>${text}</p>
        <div class="check">
          <span>${getTime()}</span>
          <img src="img/check-2.png">
        </div>
      </div>
    </div>
  `;
  chatBox.insertAdjacentHTML("beforeend", userMsg);
  scrollBottom();

  // BOT RESPONSE AFTER DELAY
  setTimeout(() => {
    botReply(text);
  }, 800);
}

function botReply(userText) {
  let reply = "";
  let cardType = null;

  const responseMap = {
    "Product/Service Info": {
      reply: "Great question ğŸ˜Š  We create<br> smart WhatsApp-style chatbots <br>that automatically reply to your <br>customers, explain your services,<br> share prices, and collect leads<br> â€” even when youâ€™re offline â°ğŸ¤–",
      card: "product"
    },
    "Price": {
      reply: "Our pricing is simple and <br>affordable ğŸ’°  For the first 20 <br>users, the chatbot setup is <br>completely FREE ğŸ‰  After that, <br>it works 24/7 for your business<br> â€” no extra staff needed.",
      card: "pricing"
    },
    "How it works": {
      reply: "Itâ€™s very simple âš™ï¸  We design a <br>chatbot based on your business,<br> connect it to WhatsApp or a<br> website, and your customers<br> start getting instant replies<br> automatically.",
      card: "working"
    },
    "Talk to Expert": {
      reply: "Sure ğŸ‘¨â€ğŸ’¼  Choose how youâ€™d like to <br>connect with our expert and <br>get personalised guidance <br>for your business.",
      card: "experttalk"
    },
    "Just Browsing": {
      reply: "No problem at all ğŸ˜Š  Feel free to <br>explore how our chatbot <br>works. Iâ€™m here if you need <br>any help.",
      card: "main"
    },
    "What's Included": {
      reply: "Hereâ€™s what you get with our<br> chatbot service ğŸ“¦<br>  âœ” Custom chatbot design <br> âœ” Business-specific replies <br> âœ” Lead collection <br> âœ” WhatsApp or website <br>integration  <br>âœ” Easy future updates",
      card: "Included"
    },
    "Ask anything else": {
      reply: "Of course ğŸ¤”  You can ask anything about the chatbot, pricing, setup,<br> or support. Iâ€™m happy to help!",
      card: "somethingelse"
    },
    "Not Interested": {
      reply: "No worries at all ğŸ˜Š  Thanks for <br>your time. If you ever need <br>automation for your business, <br>weâ€™ll be here!",
      card: null
    }
  };

  const response = responseMap[userText];

  if (response) {
    reply = response.reply;

    if (response.card) {
      setTimeout(() => {
        chatBox.insertAdjacentHTML("beforeend", optionsCard(response.card));
        scrollBottom();
      }, 1000);
    }
  } 
  else if (userText === "WhatsApp Chat (Recommended)") {
    reply = "Redirecting you to WhatsApp ğŸ’¬";
  setTimeout(() => {
    window.open(
      "https://wa.me/919999999999?text=Hi%20I%20want%20to%20know%20about%20your%20chatbot%20service",
      "_blank"
    );
  }, 1200);
} else if (userText === "Phone Call") {
  reply = "Call on this Number";
  setTimeout(() => {
    window.location.href = "tel:919999999999";
  }, 1200);
} else {
    reply = "";
  }

  const botMsg = `
    <div class="chat-l">
      <div class="mess">
        <p>${reply}</p>
        <div class="check">
          <span>${getTime()}</span>
        </div>
      </div>
      <div class="sp"></div>
    </div>
  `;

  chatBox.insertAdjacentHTML("beforeend", botMsg);
  scrollBottom();
}

function optionsCard(type = "main") {
  const cards = {
  main: {
    title: "How can we help you today? ğŸ‘‡",
    options: [
      "Product/Service Info",
      "Price",
      "How it works",
      "Talk to Expert",
      "Just Browsing"
    ]
  },

  product: {
    title: "What would you like to know next? ğŸ¤”",
    options: [
      "How it works",
      "Price",
      "Talk to Expert",
      "Ask anything else",
      "Not Interested"
    ]
  },

  pricing: {
    title: "Letâ€™s give you more clarity.",
    options: [
      "What's Included",
      "Talk to Expert",
      "Ask anything else",
      "Not Interested"
    ]
  },

  working: {
    title: "Let's proceed further.",
    options: [
      "Product/Service Info",
      "Price",
      "Talk to Expert",
      "Ask anything else",
      "Not Interested"
    ]
  },

  experttalk: {
    title: "Connect with an expert ğŸ“ğŸ’¬",
    options: [
      "Phone Call",
      "WhatsApp Chat (Recommended)"
    ]
  },

  somethingelse: {
    title: "What else can we help you with? ğŸ˜Š",
    options: [
      "Talk to Expert",
      "Product/Service Info",
      "How it works",
      "Price"
    ]
  },

  Included: {
    title: "Let's proceed further.",
    options: [
      "Talk to Expert",
      "Ask anything else",
      "How it works",
      "Price"
    ]
  }
};

  const card = cards[type] || cards.main;

  return `
    <div class="chat-l">
      <div class="product-card">
        <div class="product-body">
          <p><b>${card.title}</b></p>
        </div>
        <div class="product-actions">
          ${card.options
            .map(
              option =>
                `<button onclick="sendOption(this)" data-text="${option}">
                  ${option}
                </button>`
            )
            .join("")}
        </div>
      </div>
    </div>
  `;
}

function getTime() {
  return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}

function scrollBottom() {
  chatBox.scrollTop = chatBox.scrollHeight;
}
</script>
</body>
</html>