<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Whatsapp Chatbot</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<script src="https://cdn.tailwindcss.com"></script>
<body>
	<div class="container">
		<div class="chat">
			<div class="chat-header">
				<div class="profile">
					<div class="left">
						<img src="img/pp.png" class="pp">
						<h2>Elias</h2>
						<span>online</span>
					</div>
					<div class="right">
					</div>
				</div>
			</div>
			<div class="chat-box">
<div class="chat-l">
  <div class="product-card">
    
    <div class="product-header">
      <img src="img/headphone.png" alt="Product">
      <span class="price">225</span>
    </div>

    <div class="product-body">
      <p class="title">
        Welcome to <b>Urban Studioz</b> üëã <br>
        <span>Select from the options below</span>
      </p>
      <span class="time">4:31 pm</span>
    </div>

<div class="product-actions">
  <button onclick="sendOption(this)" data-text="Product/Service Info">Product/Service Info</button>
  <button onclick="sendOption(this)" data-text="Price">Price</button>
  <button onclick="sendOption(this)" data-text="How it works">How it works</button>
    <button onclick="sendOption(this)" data-text="Talk to Expert">Talk to Expert</button>
      <button onclick="sendOption(this)" data-text="Just Browsing">Just Browsing</button>
</div>

  </div>
</div>

</div>
			<div class="chat-footer">
      <p> Powered by CodeCandyy </p>
			</div>
		</div>
	</div>
	<script>
const chatBox = document.querySelector(".chat-box");

function sendOption(btn) {
  const text = btn.dataset.text;

  // USER MESSAGE (right side)
  const userMsg = `
    <div class="chat-r">
      <div class="sp"></div>
      <div class="mess mess-r">
        <p>${text}</p>
        <div class="check">
          <span>${getTime()}</span>
          <img src="img/check-2.png">
        </div>
      </div>
    </div>
  `;
  chatBox.insertAdjacentHTML("beforeend", userMsg);
  scrollBottom();

  // BOT RESPONSE AFTER DELAY
  setTimeout(() => {
    botReply(text);
  }, 800);
}

function botReply(userText) {
  let reply = "";
  let cardType = null;

  const responseMap = {
    //Here responseMap
  };

  const response = responseMap[userText];

  if (response) {
    reply = response.reply;

    if (response.card) {
      setTimeout(() => {
        chatBox.insertAdjacentHTML("beforeend", optionsCard(response.card));
        scrollBottom();
      }, 1000);
    }
  } else {
    reply = "Connecting you to a support agent üë®‚Äçüíª";
  }

  const botMsg = `
    <div class="chat-l">
      <div class="mess">
        <p>${reply}</p>
        <div class="check">
          <span>${getTime()}</span>
        </div>
      </div>
      <div class="sp"></div>
    </div>
  `;

  chatBox.insertAdjacentHTML("beforeend", botMsg);
  scrollBottom();
}

function optionsCard(type = "main") {
  const cards = {
  //Here Cards
};

  const card = cards[type] || cards.main;

  return `
    <div class="chat-l">
      <div class="product-card">
        <div class="product-body">
          <p><b>${card.title}</b></p>
        </div>
        <div class="product-actions">
          ${card.options
            .map(
              option =>
                `<button onclick="sendOption(this)" data-text="${option}">
                  ${option}
                </button>`
            )
            .join("")}
        </div>
      </div>
    </div>
  `;
}

function getTime() {
  return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
}

function scrollBottom() {
  chatBox.scrollTop = chatBox.scrollHeight;
}
</script>
</body>
</html>